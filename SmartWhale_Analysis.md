# SmartWhale - Анализ Приложения

## 1. Общее назначение приложения

SmartWhale - это веб-приложение для отслеживания активности криптографических китов (whales), то есть крупных держателей криптовалют, обладающих значительными объемами активов. Приложение предоставляет пользователям возможность мониторить перемещения крупных сумм криптовалюты, получать торговые сигналы на основе анализа активности китов, отслеживать портфели крупных держателей и получать уведомления о значимых транзакциях.

Приложение направлено на предоставление инсайдерской информации о поведении крупных игроков рынка, что может помочь обычным трейдерам принимать более обоснованные инвестиционные решения.

## 2. Структура проекта и технологический стек

### Технологический стек:
- **Frontend**: Next.js 14 (React фреймворк с поддержкой App Router)
- **Backend**: Next.js API Routes
- **База данных**: Supabase (PostgreSQL)
- **Платежи**: Stripe
- **Аутентификация**: Supabase Auth
- **Стилизация**: Tailwind CSS
- **Графики**: Chart.js, Recharts
- **Иконки**: Lucide React
- **Анимации**: Framer Motion
- **Email**: SendGrid
- **Анализ**: Vercel Analytics & Speed Insights

### Структура проекта:
```
smartwhale/
├── app/                    # Next.js App Router
│   ├── (admin)/           # Админ панель
│   ├── (auth)/            # Страницы аутентификации
│   ├── (dashboard)/       # Пользовательская панель
│   ├── api/               # API маршруты
│   └── pricing/           # Страница тарифов
├── components/            # React компоненты
├── lib/                   # Вспомогательные библиотеки
├── public/                # Статические файлы
└── utils/                 # Утилиты
```

## 3. Страницы приложения их назначение

### Основные страницы:
- **Главная страница** (`/`) - Лендинг с описанием сервиса
- **Регистрация/Авторизация** (`/login`, `/register`) - Страницы аутентификации
- **Панель управления** (`/dashboard`) - Главная панель пользователя
- **Трекер китов** (`/whale-tracker`) - Отслеживание китов с расширенным списком адресов
- **Торговые сигналы** (`/signals`) - AI-сигналы на основе анализа активности китов
- **Портфель** (`/portfolio`) - Управление собственным портфелем криптовалют
- **Уведомления** (`/alerts`) - Управление уведомлениями о китах
- **Список отслеживания** (`/watchlist`) - Список отслеживаемых китов
- **Профиль кита** (`/whale/[address]`) - Детализация портфеля конкретного кита
- **Тарифы** (`/pricing`) - Планы подписки

### Дополнительные страницы:
- **Политика конфиденциальности** (`/privacy`)
- **Условия использования** (`/terms`)
- **Админ панель** (`/admin`)
- **Аналитика** (`/analytics`)

## 4. API маршруты и источники данных

### Основные API маршруты:
- **`/api/whales`** - Получение данных о китах (mock данные на основе расширенного списка)
- **`/api/whales/real`** - Реальные данные китов через Etherscan API v2
- **`/api/whales/activity`** - Активность китов
- **`/api/whales/track`** - Отслеживание китов
- **`/api/signals/generate`** - Генерация торговых сигналов на основе активности китов
- **`/api/signals/action`** - Действия сигналами (follow, save)
- **`/api/alerts`** - Управление уведомлениями
- **`/api/watchlist`** - Список отслеживания
- **`/api/prices`** - Цены криптовалют
- **`/api/market`** - Рыночные данные
- **`/api/portfolio`** - Управление портфелем
- **`/api/auth`** - Аутентификация
- **`/api/cron`** - Задачи по расписанию (проверка уведомлений, синхронизация китов)
- **`/api/stripe`** - Платежи через Stripe
- **`/api/email`** - Отправка email уведомлений

### Источники данных:
- **Etherscan API v2** - Данные о балансах и транзакциях Ethereum кошельков
- **CoinGecko API** - Рыночные данные и цены криптовалют
- **Supabase** - Хранение пользовательских данных, настроек и уведомлений
- **Расширенный список китов** - Статический список из 350+ адресов китов в `lib/whale-addresses.ts`

## 5. Компоненты и утилиты

### Ключевые компоненты:
- **`WhaleBalanceChart`** - График баланса кита
- **`PortfolioPieChart`** - Круговая диаграмма распределения портфеля
- **`PriceChart`** - График цен криптовалют
- **`AlertModal`** - Модальное окно создания уведомлений
- **`AlertButton`** - Кнопка установки уведомлений
- **`SkeletonLoader`** - Загрузочные индикаторы
- **`ClientLayout`** - Клиентский макет с навигацией
- **`Header`** - Заголовок приложения
- **`AddWhaleModal`** - Модальное окно добавления кита
- **`CreateAlertModal`** - Модальное окно создания уведомлений
- **`EditAssetModal`** - Модальное окно редактирования актива
- **`SignalDetailsModal`** - Модальное окно деталей сигнала

### Утилиты:
- **`lib/whale-addresses.ts`** - Расширенный список из 350+ адресов китов с метками
- **`lib/supabase.ts`** - Клиент Supabase с аутентификацией
- **`lib/stripe.ts`** - Клиент Stripe для платежей
- **`lib/crypto-api.ts`** - API для криптоданных
- **`lib/etherscan.ts`** - API для Etherscan
- **`lib/whale-api.ts`** - API для работы с китами
- **`utils/fetch-tokens.ts`** - Получение токенов с CoinGecko
- **`utils/fetchPriceHistory.ts`** - История цен

## 6. Монетизация

### Планы подписки:
- **Starter (Бесплатный)** - 5 адресов китов, базовое отслеживание, ограниченные уведомления
- **Pro ($29/мес)** - 100+ адресов китов, расширенная аналитика, все типы уведомлений, история цен
- **Premium ($99/мес)** - Неограниченное отслеживание, AI-аналитика, вебхук-уведомления, API доступ, персональный менеджер

### Методы оплаты:
- Stripe для подписок
- Криптоплатежи (указанные как поддерживаемые)

### Дополнительные возможности:
- API доступ для премиум пользователей
- White-label решения
- Персональный аккаунт-менеджер

## 7. Ключевые особенности

### Уникальные особенности:
1. **Расширенный список китов** - Приложение включает статический список из 350+ адресов китов, включая биржи, крупных инвесторов, пулы майнинга, протоколы DeFi и другие значимые кошельки
2. **Анализ активности китов** - Генерация торговых сигналов на основе анализа активности китов
3. **Детализация портфеля** - Подробный анализ портфеля конкретного кита с распределением по токенам
4. **Гибкие уведомления** - Настраиваемые уведомления о балансах, ценах, транзакциях и новых токенах
5. **История балансов** - Графики изменения балансов китов за время
6. **Список отслеживания** - Возможность добавлять и отслеживать конкретных китов
7. **Портфель пользователя** - Управление собственным портфелем криптовалют
8. **Реальные данные** - Интеграция с Etherscan API v2 для получения актуальных данных

### Технические особенности:
- **Next.js App Router** - Современная архитектура маршрутов
- **Серверные компоненты** - Оптимизация производительности
- **SWR для кэширования** - Эффективное кэширование данных
- **Адаптивный дизайн** - Поддержка мобильных устройств
- **Dark Mode** - Темная тема по умолчанию
- **Анимации** - Плавные переходы с Framer Motion

## 8. Практическая ценность

### Для трейдеров:
- **Раннее обнаружение сигналов** - Возможность видеть крупные перемещения активов до того, как они повлияют на рынок
- **Анализ поведения китов** - Понимание стратегий крупных игроков для принятия обоснованных решений
- **Торговые сигналы** - AI-сигналы на основе анализа активности китов
- **Оповещения** - Мгновенные уведомления о значимых транзакциях

### Для инвесторов:
- **Отслеживание институциональных движений** - Понимание, как крупные институты распределяют свои активы
- **Анализ портфелей** - Изучение распределения активов у успешных держателей
- **Управление рисками** - Возможность реагировать на значительные изменения в поведении китов

### Для аналитиков:
- **Доступ к данным** - Подробная информация о перемещениях крупных объемов
- **Инструменты анализа** - Графики, диаграммы и исторические данные
- **Исследование трендов** - Возможность выявлять тенденции в поведении китов

SmartWhale предоставляет уникальную ценность, объединяя доступ к информации о крупных держателях криптовалют с инструментами анализа и уведомлений, что позволяет пользователям принимать более обоснованные инвестиционные решения на основе поведения крупных игроков рынка.